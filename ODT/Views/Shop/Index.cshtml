@using System.Globalization
@using Microsoft.AspNetCore.Mvc.Localization
@using Domain
@model List<Vlag>

@inject IViewLocalizer Localizer

@section Style
{
    <link rel="stylesheet" href="css/custom.css"/>
}

@{
    ViewData["viewTitle"] = Localizer["winkelDescription"];
    Layout = "_Layout";
    
}

<h2>@ViewData["controllerTitle"]</h2>
<p>@ViewData["viewTitle"]</p>

@{
    Vlag v = Model.Find(p => p.LandCode.Equals(CultureInfo.CurrentCulture.ToString()));

    Product product = new Product()
    {
        current = true,
        vlag = v
    };
    
    <partial name="_product" model="@product"/>

    foreach (Vlag vlag in @Model)
     {
         if (!vlag.LandCode.Equals(CultureInfo.CurrentCulture.ToString()))
         {
             Product prod = new Product()
             {
                 current = false,
                 vlag = vlag
             };
             <partial name="_product" model="@prod"/>
         }
     }
}
@*
<h3>Current Time: @DateTime.Now.TimeOfDay.ToString()</h3>
<h3>Cached Time: @(ViewBag.Cache == null ? "No cached entry found" : ViewBag.Cache.ToString("HH:mm:ss tt zz"))</h3>
*@
